(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{3837:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return r(196)}])},5816:function(e,t,r){"use strict";r.d(t,{N:function(){return s},f:function(){return ThemeProvider}});var n=r(5893),o=r(7294);let s=(0,o.createContext)();function ThemeProvider(e){let{children:t}=e,[r,a]=(0,o.useState)("light"),[l,i]=(0,o.useState)([59,130,246]),[c,u]=(0,o.useState)(1);return(0,o.useEffect)(()=>{let e=window.localStorage.getItem("lc_theme");if(e)try{let t=JSON.parse(e);a(t.theme||"light"),t.accent&&i(t.accent),t.fontScale&&u(t.fontScale)}catch(e){}},[]),(0,o.useEffect)(()=>{"undefined"!=typeof document&&(document.documentElement.setAttribute("data-theme","dark"===r?"dark":"light"),document.documentElement.style.setProperty("--accent",l.join(" ")),document.documentElement.style.setProperty("--font-scale",c.toString()),window.localStorage.setItem("lc_theme",JSON.stringify({theme:r,accent:l,fontScale:c})))},[r,l,c]),(0,n.jsx)(s.Provider,{value:{theme:r,toggleTheme:()=>a(e=>"dark"===e?"light":"dark"),setAccent:i,accent:l,fontScale:c,setFontScale:u},children:t})}},2797:function(e,t,r){"use strict";r.d(t,{V:function(){return ToastProvider},p:function(){return useToast}});var n=r(5893),o=r(7294);let s=o.createContext(null);function ToastProvider(e){let{children:t}=e,[r,a]=(0,o.useState)([]),l=(0,o.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,n=Date.now(),o={id:n,message:e,type:t};return a(e=>[...e,o]),r>0&&setTimeout(()=>{i(n)},r),n},[]),i=(0,o.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]);return(0,n.jsxs)(s.Provider,{value:{addToast:l,removeToast:i,toasts:r},children:[t,(0,n.jsx)(ToastContainer,{toasts:r,onRemove:i})]})}function useToast(){let e=o.useContext(s);if(!e)throw Error("useToast deve ser usado dentro de ToastProvider");return e}function ToastContainer(e){let{toasts:t,onRemove:r}=e,o={success:"bg-green-500",error:"bg-red-500",warning:"bg-yellow-500",info:"bg-blue-500"},s={success:"✅",error:"❌",warning:"⚠️",info:"ℹ️"};return(0,n.jsx)("div",{className:"fixed bottom-4 right-4 space-y-2 z-50 max-w-sm",children:t.map(e=>(0,n.jsxs)("div",{className:"".concat(o[e.type]," text-white p-4 rounded-lg shadow-lg flex items-center justify-between animate-slide-in"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:s[e.type]}),(0,n.jsx)("p",{children:e.message})]}),(0,n.jsx)("button",{onClick:()=>r(e.id),className:"ml-4 text-white hover:opacity-75",children:"✕"})]},e.id))})}},196:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return MyApp}});var n=r(5893);r(2352);var o=r(7294),s=r(5816);let a=(0,o.createContext)(null);function AuthProvider(e){let{children:t}=e,[r,s]=(0,o.useState)(null),[l,i]=(0,o.useState)(null),[c,u]=(0,o.useState)(!0),[d,h]=(0,o.useState)(null);(0,o.useEffect)(()=>{let e=localStorage.getItem("auth_token");e&&i(e),u(!1)},[]);let m=(0,o.useCallback)(async(e,t)=>{u(!0),h(null);try{let t={id:1,email:e,name:e.split("@")[0],role:"customer"},r="token_"+Date.now();return s(t),i(r),localStorage.setItem("auth_token",r),localStorage.setItem("auth_user",JSON.stringify(t)),t}catch(e){throw h(e.message),e}finally{u(!1)}},[]),f=(0,o.useCallback)(async()=>{u(!0);try{s(null),i(null),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}catch(e){h(e.message)}finally{u(!1)}},[]),g=(0,o.useCallback)(async e=>{u(!0),h(null);try{return await m(e.email,e.password)}catch(e){throw h(e.message),e}finally{u(!1)}},[m]);return(0,n.jsx)(a.Provider,{value:{user:r,token:l,isLoading:c,error:d,isAuthenticated:!!l,login:m,logout:f,register:g},children:t})}var l=r(2797);let ErrorBoundary=class ErrorBoundary extends o.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),console.error("ErrorBoundary caught:",e,t)}render(){return this.state.hasError?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-red-50 p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-red-600",children:"❌ Oops!"}),(0,n.jsx)("p",{className:"text-gray-600 mt-2",children:"Algo deu errado. Por favor, tente novamente."})]}),!1,(0,n.jsx)("button",{onClick:this.resetError,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition",children:"Tentar Novamente"}),(0,n.jsx)("button",{onClick:()=>window.location.href="/",className:"w-full mt-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 px-4 rounded transition",children:"Voltar para Home"})]})}):this.props.children}constructor(e){super(e),this.resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}};function MyApp(e){let{Component:t,pageProps:r}=e;return(0,n.jsx)(ErrorBoundary,{children:(0,n.jsx)(l.V,{children:(0,n.jsx)(AuthProvider,{children:(0,n.jsx)(s.f,{children:(0,n.jsx)(t,{...r})})})})})}},2352:function(){}},function(e){var __webpack_exec__=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return __webpack_exec__(3837),__webpack_exec__(9974)}),_N_E=e.O()}]);