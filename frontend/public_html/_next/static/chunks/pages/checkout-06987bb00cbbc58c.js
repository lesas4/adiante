(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{90419:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return CheckoutPage}});var t=r(67294),s=r(11163),n=r(46011),o=r(90835),l=r(9008),d=r.n(l),c=r(85893);function PixQRCodeCheckout({bookingId:e,amount:a,orderId:r}){let[s,n]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[i,x]=(0,t.useState)(null),[m,g]=(0,t.useState)("waiting"),[u,b]=(0,t.useState)(600),[h,p]=(0,t.useState)(!1),[y,f]=(0,t.useState)(!0);(0,t.useEffect)(()=>{fetchPaymentData()},[e]),(0,t.useEffect)(()=>{if(!y||"confirmed"===m)return;let e=setInterval(()=>{b(e=>e<=1?(g("expired"),f(!1),0):e-1)},1e3);return()=>clearInterval(e)},[y,m]),(0,t.useEffect)(()=>{if(!y||!s?.transactionId)return;let checkStatus=async()=>{try{let e=localStorage.getItem("token"),a=await fetch(`/api/pix/status/${s.transactionId}`,{headers:{Authorization:`Bearer ${e}`}});if(!a.ok)return;let r=await a.json();r.data?.status==="confirmed"?(g("confirmed"),f(!1)):r.data?.status==="received"&&g("received")}catch(e){console.error("Erro ao verificar status:",e)}},e=setInterval(checkStatus,5e3);return()=>clearInterval(e)},[y,s?.transactionId]);let fetchPaymentData=async()=>{try{l(!0);let t=localStorage.getItem("token"),s=await fetch("/api/pix/create",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({bookingId:e,amount:a,orderId:r})});if(!s.ok)throw Error(`Erro ${s.status}: ${s.statusText}`);let o=await s.json();if(o.success&&o.data)n(o.data),x(null);else throw Error(o.error||"Erro ao gerar QR Code")}catch(e){console.error("Erro ao buscar dados de pagamento:",e),x(e.message),f(!1)}finally{l(!1)}},copyToClipboard=async()=>{try{let e=s?.brCode||s?.qrCode;e&&(await navigator.clipboard.writeText(e),p(!0),setTimeout(()=>p(!1),2e3))}catch(e){console.error("Erro ao copiar:",e)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d(),{children:[(0,c.jsx)("title",{children:"Checkout PIX - Leidy Cleaner"}),(0,c.jsx)("meta",{name:"description",content:"Finalize seu pagamento com PIX"})]}),(0,c.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-gray-50 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:(0,c.jsxs)("div",{className:"w-full max-w-md",children:[o&&(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-8 text-center",children:[(0,c.jsx)("div",{className:"inline-block",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}),(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Gerando QR Code..."})]}),i&&!o&&(0,c.jsxs)("div",{className:"bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-700 rounded-lg shadow-xl p-6",children:[(0,c.jsx)("h3",{className:"text-red-800 dark:text-red-100 font-bold mb-2",children:"Erro ao Gerar QR Code"}),(0,c.jsx)("p",{className:"text-red-700 dark:text-red-200 text-sm mb-4",children:i}),(0,c.jsx)("button",{onClick:fetchPaymentData,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded transition",children:"Tentar Novamente"})]}),!o&&!i&&s&&(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl overflow-hidden",children:[(0,c.jsxs)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 text-center",children:[(0,c.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Pagamento com PIX"}),(0,c.jsx)("p",{className:"text-green-100",children:"Escaneie o c\xf3digo abaixo"})]}),(0,c.jsxs)("div",{className:"p-8",children:[(0,c.jsxs)("div",{className:"text-center mb-8",children:[(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:"Valor a Pagar"}),(0,c.jsxs)("p",{className:"text-4xl font-bold text-green-700 dark:text-green-400",children:["R$ ",a?.toLocaleString("pt-BR",{decoded:2})]})]}),(0,c.jsxs)("div",{className:`relative bg-white dark:bg-gray-700 rounded-lg p-4 mb-6 ${"expired"===m?"opacity-50":""}`,children:[s?.qrCodeImage?(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)("img",{src:s.qrCodeImage,alt:"PIX QR Code",className:"w-full max-w-xs mx-auto"})}):(0,c.jsx)("div",{className:"w-full aspect-square bg-gray-200 dark:bg-gray-600 rounded flex items-center justify-center",children:(0,c.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"QR Code indispon\xedvel"})}),"expired"===m&&(0,c.jsx)("div",{className:"absolute inset-0 bg-red-500 bg-opacity-20 rounded flex items-center justify-center",children:(0,c.jsx)("div",{className:"text-center",children:(0,c.jsx)("p",{className:"text-red-700 dark:text-red-300 font-bold text-lg",children:"EXPIRADO"})})})]}),(0,c.jsxs)("div",{className:"mb-6",children:[(0,c.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Ou copie o c\xf3digo PIX:"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("input",{type:"text",value:s?.brCode||"",readOnly:!0,className:"flex-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded text-sm font-mono border border-gray-300 dark:border-gray-600 focus:border-green-500"}),(0,c.jsx)("button",{onClick:copyToClipboard,className:`px-4 py-2 rounded font-semibold transition ${h?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:h?"✓ Copiado":"Copiar"})]})]}),(0,c.jsxs)("div",{className:`text-center py-4 px-4 rounded-lg bg-gray-50 dark:bg-gray-700 mb-6 ${(()=>{switch(m){case"confirmed":return"text-green-600 dark:text-green-400";case"received":return"text-blue-600 dark:text-blue-400";case"waiting":return"text-yellow-600 dark:text-yellow-400";case"expired":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}})()}`,children:[(0,c.jsx)("p",{className:"font-semibold text-lg mb-2",children:(()=>{switch(m){case"confirmed":return"✅ Pagamento Confirmado!";case"received":return"✓ Pagamento Recebido";case"waiting":return"⏳ Aguardando Pagamento";case"expired":return"❌ QR Code Expirado";default:return"Carregando..."}})()}),"expired"!==m&&"confirmed"!==m&&(0,c.jsxs)("p",{className:"text-sm",children:["Expira em: ",(0,c.jsx)("span",{className:"font-mono font-bold",children:`${Math.floor(u/60)}:${(u%60).toString().padStart(2,"0")}`})]})]}),(0,c.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900 border border-blue-200 dark:border-blue-700 rounded-lg p-4 mb-6",children:[(0,c.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"\uD83D\uDCF1 Como Pagar:"}),(0,c.jsxs)("ol",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,c.jsx)("li",{children:"1. Abra seu app de banco"}),(0,c.jsx)("li",{children:"2. Selecione PIX → QR Code"}),(0,c.jsx)("li",{children:"3. Escaneie a imagem acima"}),(0,c.jsx)("li",{children:"4. Confirme o valor e envie"})]})]}),"confirmed"===m?(0,c.jsx)("button",{onClick:()=>{localStorage.removeItem("pendingBooking"),window.location.href="/confirmacao"},className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition text-lg",children:"✓ Ir para Confirma\xe7\xe3o"}):"expired"===m?(0,c.jsx)("button",{onClick:fetchPaymentData,className:"w-full bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-4 rounded-lg transition",children:"Gerar Novo QR Code"}):(0,c.jsx)("button",{disabled:!0,className:"w-full bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400 font-bold py-3 px-4 rounded-lg cursor-not-allowed",children:"⏳ Aguardando Confirma\xe7\xe3o..."}),(0,c.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mt-6",children:["ID da Transa\xe7\xe3o: ",(0,c.jsx)("span",{className:"font-mono",children:s?.transactionId})]})]}),(0,c.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 px-8 py-4 border-t border-gray-200 dark:border-gray-600",children:(0,c.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 text-center",children:"\uD83D\uDCA1 D\xfavida? Entre em contato com nosso suporte"})})]})]})})]})}var i=r(43988),x=r(38810),Payments_CheckoutForm=function({amount:e=120}){let[a,r]=(0,t.useState)("pix"),[s,n]=(0,t.useState)(!1),[o,l]=(0,t.useState)({bank:"pix",pixKey:"",accountNumber:"",agencia:"",bankName:"",accountType:"corrente"}),{addToast:d}=(0,i.p)(),handleBankDataChange=e=>{let{name:a,value:r}=e.target;l(e=>({...e,[a]:r}))},validateBankData=()=>{if("pix"===a){if(!o.pixKey.trim())return d("Adicione uma chave PIX","error"),!1}else if("boleto"===a||"transfer"===a){if(!o.accountNumber.trim())return d("N\xfamero da conta \xe9 obrigat\xf3rio","error"),!1;if(!o.agencia.trim())return d("Ag\xeancia \xe9 obrigat\xf3ria","error"),!1;if(!o.bankName)return d("Selecione um banco","error"),!1}return!0},handlePay=async()=>{if(validateBankData()){n(!0);try{await (0,x.k_)("/api/payments/create",{method:"POST",body:JSON.stringify({amount:e,method:a,bankData:"card"!==a?o:{}})}),d("Pagamento realizado com sucesso!","success")}catch(e){d(e.message||"Erro ao processar pagamento","error")}finally{n(!1)}}};return(0,c.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[(0,c.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"\uD83D\uDCB3 Forma de Pagamento"}),(0,c.jsxs)("p",{className:"mb-6 text-gray-600",children:["Valor a pagar: ",(0,c.jsxs)("strong",{className:"text-2xl text-green-600",children:["R$ ",e.toFixed(2)]})]}),(0,c.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,c.jsxs)("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition ${"pix"===a?"border-green-500 bg-green-50":"border-gray-300"}`,children:[(0,c.jsx)("input",{type:"radio",name:"method",checked:"pix"===a,onChange:()=>r("pix"),className:"mr-3"}),(0,c.jsx)("span",{className:"font-semibold text-lg",children:"\uD83D\uDCB0 PIX Instant\xe2neo"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Transfer\xeancia imediata via chave PIX"})]}),(0,c.jsxs)("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition ${"card"===a?"border-blue-500 bg-blue-50":"border-gray-300"}`,children:[(0,c.jsx)("input",{type:"radio",name:"method",checked:"card"===a,onChange:()=>r("card"),className:"mr-3"}),(0,c.jsx)("span",{className:"font-semibold text-lg",children:"\uD83C\uDFE6 Cart\xe3o de Cr\xe9dito"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Parcelado em at\xe9 12x"})]}),(0,c.jsxs)("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition ${"boleto"===a?"border-orange-500 bg-orange-50":"border-gray-300"}`,children:[(0,c.jsx)("input",{type:"radio",name:"method",checked:"boleto"===a,onChange:()=>r("boleto"),className:"mr-3"}),(0,c.jsx)("span",{className:"font-semibold text-lg",children:"\uD83D\uDCC4 Boleto Banc\xe1rio"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Vencimento em at\xe9 3 dias \xfateis"})]}),(0,c.jsxs)("label",{className:`block p-4 border-2 rounded-lg cursor-pointer transition ${"transfer"===a?"border-purple-500 bg-purple-50":"border-gray-300"}`,children:[(0,c.jsx)("input",{type:"radio",name:"method",checked:"transfer"===a,onChange:()=>r("transfer"),className:"mr-3"}),(0,c.jsx)("span",{className:"font-semibold text-lg",children:"\uD83D\uDD04 Transfer\xeancia Banc\xe1ria"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"TED/DOC entre contas"})]})]}),("pix"===a||"boleto"===a||"transfer"===a)&&(0,c.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-6 border-2 border-yellow-200",children:[(0,c.jsx)("h4",{className:"font-bold text-lg mb-4",children:"\uD83D\uDD10 Dados Banc\xe1rios"}),"pix"===a?(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sua Chave PIX *"}),(0,c.jsx)("input",{type:"text",name:"pixKey",value:o.pixKey,onChange:handleBankDataChange,placeholder:"Seu CPF, email, telefone ou chave aleat\xf3ria",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-green-500 focus:outline-none"}),(0,c.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Digite sua chave PIX cadastrada no banco"})]}):(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Banco *"}),(0,c.jsxs)("select",{name:"bankName",value:o.bankName,onChange:handleBankDataChange,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none",children:[(0,c.jsx)("option",{value:"",children:"Selecione seu banco"}),[{code:"itau",name:"Ita\xfa (341)"},{code:"bradesco",name:"Bradesco (237)"},{code:"santander",name:"Santander (033)"},{code:"caixa",name:"Caixa (104)"},{code:"bb",name:"Banco do Brasil (001)"},{code:"inter",name:"Banco Inter (077)"},{code:"nubank",name:"Nubank (260)"},{code:"picpay",name:"PicPay (380)"}].map(e=>(0,c.jsx)("option",{value:e.code,children:e.name},e.code))]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Ag\xeancia *"}),(0,c.jsx)("input",{type:"text",name:"agencia",value:o.agencia,onChange:handleBankDataChange,placeholder:"0000",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none",maxLength:"5"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tipo de Conta *"}),(0,c.jsxs)("select",{name:"accountType",value:o.accountType,onChange:handleBankDataChange,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none",children:[(0,c.jsx)("option",{value:"corrente",children:"Corrente"}),(0,c.jsx)("option",{value:"poupanca",children:"Poupan\xe7a"})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"N\xfamero da Conta *"}),(0,c.jsx)("input",{type:"text",name:"accountNumber",value:o.accountNumber,onChange:handleBankDataChange,placeholder:"000000-X",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:outline-none"})]}),(0,c.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-3 rounded text-sm text-yellow-700",children:"⚠️ Verifique seus dados banc\xe1rios. Transfer\xeancias n\xe3o podem ser revertidas."})]})]}),(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)("button",{onClick:handlePay,disabled:s,className:"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition disabled:opacity-50",children:s?"⏳ Processando...":"✓ Confirmar Pagamento"}),(0,c.jsx)("button",{onClick:()=>d("Pagamento cancelado","info"),className:"px-6 py-3 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold rounded-lg transition",children:"✕ Cancelar"})]})]})},Loyalty_LoyaltyPanel=function(){let[e,a]=(0,t.useState)(0);(0,t.useEffect)(()=>{let e=parseInt(localStorage.getItem("loyalty_points")||"0",10);a(e)},[]);let earn=r=>{let t=e+r;localStorage.setItem("loyalty_points",t),a(t)},redeem=r=>{if(e<r)return alert("Pontos insuficientes");let t=e-r;localStorage.setItem("loyalty_points",t),a(t),alert("Cupom aplicado: R$ "+(r/10).toFixed(2))};return(0,c.jsxs)("div",{className:"p-4 bg-white rounded shadow",children:[(0,c.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Programa de Fidelidade"}),(0,c.jsxs)("p",{className:"mb-2",children:["Pontos acumulados: ",(0,c.jsx)("strong",{children:e})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("button",{onClick:()=>earn(10),className:"px-3 py-2 bg-blue-600 text-white rounded",children:"Ganhar 10 pts"}),(0,c.jsx)("button",{onClick:()=>redeem(50),className:"px-3 py-2 bg-green-600 text-white rounded",children:"Resgatar 50 pts"})]}),(0,c.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"1 ponto = R$0.10 (exemplo)"})]})},m=r(5152),g=r.n(m);let u=g()(()=>r.e(139).then(r.bind(r,80139)),{ssr:!1});function CheckoutPage(){let e=(0,s.useRouter)(),{booking_id:a,amount:r,method:l="pix"}=e.query,[i,x]=(0,t.useState)("pix"),[m,g]=(0,t.useState)(null),[b,h]=(0,t.useState)(!!a);(0,t.useEffect)(()=>{a&&"undefined"!==a?fetchBookingData():h(!1)},[a]),(0,t.useEffect)(()=>{l&&"undefined"!==l&&x(l)},[l]);let fetchBookingData=async()=>{try{let e=localStorage.getItem("token"),r=await fetch(`/api/bookings/${a}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(r.ok){let e=await r.json();e.success&&e.data&&g(e.data)}}catch(e){console.error("Erro ao buscar booking:",e)}finally{h(!1)}},p=m?.total_price||(r?parseFloat(r):120);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(d(),{children:[(0,c.jsx)("title",{children:"Checkout - Leidy Cleaner"}),(0,c.jsx)("meta",{name:"description",content:"Finalize seu agendamento com seguran\xe7a"})]}),(0,c.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,c.jsx)(n.Z,{}),(0,c.jsxs)("main",{className:"flex-grow max-w-6xl mx-auto w-full px-4 py-6 space-y-6",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Checkout Seguro"}),(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Escolha o m\xe9todo de pagamento e finalize seu agendamento"})]}),b?(0,c.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}):(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,c.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"M\xe9todo de Pagamento"}),(0,c.jsxs)("div",{className:"space-y-3",children:[(0,c.jsxs)("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition ${"pix"===i?"border-green-600 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-green-600"}`,children:[(0,c.jsx)("input",{type:"radio",name:"payment-method",value:"pix",checked:"pix"===i,onChange:e=>x(e.target.value),className:"w-5 h-5"}),(0,c.jsxs)("span",{className:"ml-4",children:[(0,c.jsx)("span",{className:"block font-bold text-gray-900 dark:text-white",children:"\uD83D\uDC9A PIX (QR Code)"}),(0,c.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Instant\xe2neo - Escanear c\xf3digo QR com seu banco"})]})]}),(0,c.jsxs)("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition ${"card"===i?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-blue-600"}`,children:[(0,c.jsx)("input",{type:"radio",name:"payment-method",value:"card",checked:"card"===i,onChange:e=>x(e.target.value),className:"w-5 h-5"}),(0,c.jsxs)("span",{className:"ml-4",children:[(0,c.jsx)("span",{className:"block font-bold text-gray-900 dark:text-white",children:"\uD83D\uDCB3 Cart\xe3o de Cr\xe9dito"}),(0,c.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Parcelado em at\xe9 12x sem juros"})]})]}),(0,c.jsxs)("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition ${"boleto"===i?"border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-200 dark:border-gray-700 hover:border-yellow-600"}`,children:[(0,c.jsx)("input",{type:"radio",name:"payment-method",value:"boleto",checked:"boleto"===i,onChange:e=>x(e.target.value),className:"w-5 h-5"}),(0,c.jsxs)("span",{className:"ml-4",children:[(0,c.jsx)("span",{className:"block font-bold text-gray-900 dark:text-white",children:"\uD83D\uDCC4 Boleto Banc\xe1rio"}),(0,c.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Vencimento em 3 dias \xfateis"})]})]})]})]}),"pix"===i&&(0,c.jsx)(PixQRCodeCheckout,{bookingId:a,amount:p,orderId:`ORDER-${Date.now()}`}),"pix"!==i&&(0,c.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:(0,c.jsx)(Payments_CheckoutForm,{amount:p,method:i})})]}),(0,c.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[m&&(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Resumo do Pedido"}),(0,c.jsxs)("div",{className:"space-y-3 text-sm mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Servi\xe7o"}),(0,c.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:m.service_type||"Limpeza"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Data"}),(0,c.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:m.scheduled_date?new Date(m.scheduled_date).toLocaleDateString("pt-BR"):"N/A"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Dura\xe7\xe3o"}),(0,c.jsxs)("p",{className:"font-semibold text-gray-900 dark:text-white",children:[m.duration_hours||2,"h"]})]})]}),(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:"Total:"}),(0,c.jsxs)("span",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["R$ ",p.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),!m&&(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[(0,c.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Valor do Pagamento"}),(0,c.jsxs)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["R$ ",p.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),m&&(0,c.jsx)(Loyalty_LoyaltyPanel,{}),(0,c.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[(0,c.jsx)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2",children:"\uD83D\uDCAC Precisa de Ajuda?"}),(0,c.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-400 mb-3",children:"Fale com nosso suporte no WhatsApp"}),(0,c.jsx)("a",{href:"https://wa.me/5551980303740",target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full text-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition font-semibold",children:"Abrir Chat"})]})]})]})]}),(0,c.jsx)("div",{className:"mt-4",children:(0,c.jsx)(u,{})}),(0,c.jsx)(o.Z,{})]})]})}},95338:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout",function(){return r(90419)}])}},function(e){e.O(0,[216,837,774,336,888,179],function(){return e(e.s=95338)}),_N_E=e.O()}]);